<!DOCTYPE html>
<html>
<body>

<canvas id = "canvas" width ="500" height ="400"></canvas>
<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>

$(document).ready(function(){
let canWidth = 500;
let canHeight = 400;

let x = 0;
let y = 0;

let srcX = 0;
let srcY = 0;

let sheetWidth = 3800;
let sheetHeight = 400;

let frameCount = 8;

let width = sheetWidth / frameCount;
let height = 400;

let cat = new Image(50,50);
cat.src = "./frame_1.jpg";
let port = new Image(50,50);
port.src = "./teleport.jpg";

  let canvas = document.getElementById('canvas');
  canvas.width = canWidth;
  canvas.height = canHeight;
  let ctx = canvas.getContext('2d');
  let currentFrame = 0;

let updateFrame = function(){
  currentFrame = ++currentFrame % frameCount;
  srcX = currentFrame * width;
  srcY = 0;
  ctx.clearRect(x,y,width,height);
};
let dx = 1;
let drawCat = function(){
  updateFrame();
  ctx.drawImage(cat, 
               srcX,
               srcY,
               width,
               height,
               x+=10,
               y,
               100,
               80);
  if(x >=500) { x = 0; }

  dx = dx * (-1);
    ctx.drawImage(port, 
               451 + dx,
               0,
               50,
               80);
};
  setInterval(function(){
    drawCat();
  },100);
});
</script>

</body>
</html>


